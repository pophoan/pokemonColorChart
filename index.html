<!doctype html>
<html lang="en">

<head>
    <title>寶可夢色票</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <!-- animate -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <style>
        /* 字體 */
        @import url('https://fonts.googleapis.com/css2?family=DotGothic16&family=Rampart+One&display=swap');

        @keyframes changeColor {
            0% {
                background-position: 0% 50%;
            }



            100% {
                background-position: 100% 50%;
            }
        }

        @keyframes changeBackground {
            0% {}

            100% {
                background: crimson;
            }
        }

        :root {
            --text-primary-color: #333;
            --text-ls: 4px;
        }

        body {
            background: #62d5b4;
            transition: .5s;
        }

        /* module */
        .obj-fit-cover {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .margin-special-top {
            --margin-top: 40px;
            margin-top: var(--margin-top);
        }


        .main-pic {
            width: 340px;
            height: 340px;
            border: 1px solid #333;
            filter: drop-shadow(5px 5px 5px blue);

            & img {
                width: 100%;

            }
        }

        .big-pic {
            visibility: hidden;
            position: absolute;
            top: 0;
            right: 120px;
            width: 340px;
            height: 340px;
            border: 1px solid #333;
            /* filter: drop-shadow(5px 5px 5px blue); */
            overflow: hidden;

            & img {
                position: absolute;
                left: 0px;
                top: 0px;
                width: 200%;

            }

            @media screen and (max-width:1400px) {
                display: none;
            }
        }

        .pic {
            width: 72px;
            /* background: #ccc; */
        }

        .theme-title {
            font-family: 'DotGothic16', sans-serif;
            font-size: 5rem;
            text-align: center;
            letter-spacing: 10px;
            color: #333;
            /* background: linear-gradient(-45deg, #FBAB7E, #F7CE68, #85FFBD, #FFFB7D, #FFDEE9);
            background-size: 300% 300%;
            -webkit-background-clip: text; */
        }

        .color-chart {
            & h2 {
                font-family: 'DotGothic16';
                cursor: pointer;
                color: #333;
                letter-spacing: var(--text-ls);
                transition: .5s;

                &:hover {
                    color: #797979;
                }
            }
        }
    </style>

</head>

<body>

    <div class="container margin-special-top">

        <div class="row justify-content-center position-relative">
            <figure class="main-pic">
                <img src="./images/1.png" alt="妙娃種子">
            </figure>
            <figure class="big-pic" id="big-pic">
                <img src="./images/1.png" alt="妙娃種子">
            </figure>

        </div>
        <div class="tumb d-flex  justify-content-center mt-5">
            <div class="pic ratio ratio-1x1 mx-2">
                <img class="obj-fit-cover" data-color="#62d5b4" src="./images/1.png" alt="">
            </div>
            <div class="pic ratio ratio-1x1 mx-2">
                <img class="obj-fit-cover" data-color="#de5239" src="./images/4.png" alt="">
            </div>
            <div class="pic ratio ratio-1x1 mx-2">
                <img class="obj-fit-cover" data-color="#8bc5cd" src="./images/7.png" alt="">
            </div>
            <div class="pic ratio ratio-1x1 mx-2">
                <img class="obj-fit-cover" data-color="#f6bd20" src="./images/25.png" alt="">
            </div>
            <div class="pic ratio ratio-1x1 mx-2">
                <img class="obj-fit-cover" data-color="#5a4a9c" src="./images/94.png" alt="">
            </div>
        </div>

        <div class="color-chart text-center mt-5">
            <div class="position-relative">
                <h1 class="theme-title animate__animated  animate__tada animate__repeat-1 display-1">寶可夢色票</h1>
            </div>
            <h2 id="color-chart" class="display-3 mt-4">#62d5b4</h2>
        </div>
    </div>


    <script>
        /* 需求： 製作點擊之後切換照片的效果 */


        // 1.抓元素 >2. 元素綁定點擊事件>3.拿到元素的src屬性>4.將mainPic的src替換目標的srcs


        // 1.抓元素

        // 主圖片元素（mainPic) >主圖片的src mainPic.src 
        const mainPic = document.querySelector('.main-pic img')
        const bigPic = document.querySelector('#big-pic img')
        let bgPicstyle = window.getComputedStyle(bigPic)



        // 抓button的元素(tumbButtons) ，做事件委託
        const tumbButtons = document.querySelector('.tumb')

        //改背景色>body元素>點擊觸發改背景色>body.style
        const body = document.body


        //色票文字
        const colorChart = document.querySelector('#color-chart')



        // 2. 元素綁定點擊事件>3.拿到子元素的src屬性>4.將mainPic的src替換目標的srcs

        // 透過事件委託一次綁定所有button > 條件判定，只有點擊img標籤才會執行code
        tumbButtons.addEventListener('click', function (e) {
            // 條件判定，點擊的為,<img>標籤，才執行
            if (e.target.tagName === "IMG") {
                //點擊時，拿到子元素的src
                console.log(e.target.src);

                // 替換mainPic的src為點擊的子元素srcs
                mainPic.src = e.target.src
                // 替換mainPic的src為點擊的子元素srcs
                bigPic.src = e.target.src

                // 更改背景色為點擊的子元素data-color
                console.log(e.target.dataset.color);
                body.style.backgroundColor = e.target.dataset.color

                // 更改色票
                colorChart.innerHTML = e.target.dataset.color


            }
        })

        //點擊色票標籤，自動複製色票的文字信息
        // 點擊色票標籤 > bom-clipboard API > 成功自動複製！
        colorChart.addEventListener('click', function () {
            console.log(navigator.clipboard.writeText(this.innerText));
            navigator.clipboard.writeText(this.innerText).then(function () {
                alert(`成功複製色票${body.style.backgroundColor}`)
            }).catch(function () {
                alert('複製色票失敗')
            })

        })
        // 滑鼠經過main-pic，顯示big-pic，並且滑鼠在main-pic中移動時，連帶移動big-pic圖片
        // 1.滑鼠事件
        mainPic.addEventListener('mousemove', function (e) {
            bigPic.style.visibility = 'visible'
            // 滑鼠在dom的x y距離
            // console.log(e.offsetX, e.offsetY);
            let moveX = e.offsetX
            let moveY = e.offsetY

            bigPic.style.transform = `translate(-${moveX}px, -${moveY}px)`;
        })

        mainPic.addEventListener('mouseleave', function (e) {
            // console.log(bgPicstyle.visibility);
            bigPic.style.visibility = 'hidden'
        })


    </script>


</body>

</html>